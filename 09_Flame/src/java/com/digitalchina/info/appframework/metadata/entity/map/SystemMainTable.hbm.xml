<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse - Hibernate Tools
-->
<hibernate-mapping package="com.digitalchina.info.appframework.metadata.entity" default-access="field">

    <class name="SystemMainTable" table="sys_SystemMainTable" dynamic-insert="true" dynamic-update="true">
    	<cache usage="read-write"/>
        <id name="id" type="long"  column="ID" >
            <generator class="native" /> 
        </id>
       
        <property name="tableName" type="string" column="TableName"/>
        <property name="tableCnName" type="string" column="TableCnName"/>
        <property name="className" type="string" column="ClassName"/>
        <property name="columnSum" type="integer" column="ColumnSum"/>

        <many-to-one name="primaryKeyColumn" class="com.digitalchina.info.appframework.metadata.entity.SystemMainTableColumn" 
        			column="PrimaryKeyColumnId"/>
        
        <many-to-one name="parentColumn" class="com.digitalchina.info.appframework.metadata.entity.SystemMainTableColumn" 
        			column="ParentColumnID" />
        			
        <property name="level" type="integer" column="levelFlag"/>
        <property name="showLeafOnly" type="integer" column="ShowLeafOnly"/>
        <property name="showCascade" type="integer" column="ShowCascade"/>
        
        			
        <set name="columns" inverse="true" lazy="true" order-by="orderFlag" cascade="all">
		  <key column="TableID"></key>
		  <one-to-many class="com.digitalchina.info.appframework.metadata.entity.SystemMainTableColumn"/>
		</set>
		<!-- 
		<set name="extendColumns" inverse="true" lazy="true" order-by="orderFlag" cascade="all">
		  <key column="SystemMainTableID"></key>
		  <one-to-many class="com.digitalchina.info.appframework.metadata.entity.SystemMainTableExtColumn"/>
		</set>
		 -->
        <many-to-one name="module" class="com.digitalchina.info.framework.security.entity.Module" 
        			column="ModuleID"/>
        			
		 <property name="descn" type="string" column="descn"/>
		 
    	 <property name="userExtFlag" type="integer" column="userExtFlag"/>
    	 <property name="userScidFlag" type="integer" column="userScidFlag"/>
    	 <property name="userListFlag" type="integer" column="userListFlag"/>
    	 <property name="templateFlag" type="integer" column="templateFlag"/>
    	 <property name="deployFlag" type="integer" column="deployFlag"/>
    	 
    	  <many-to-one name="template"  column="template"  
					   class="com.digitalchina.info.appframework.template.entity.Template" />  
					   
		 <set name="userTableSettings" table="sys_UserTableSetting" inverse="true" cascade="all">
        	<key column="SystemMainTableID"/>
        	<one-to-many class="com.digitalchina.info.appframework.metadata.entity.UserTableSetting" />
        </set>	
        
    </class>
</hibernate-mapping>
